<ng-container *ngIf="selectedReport && calculating == false">
    <div class="report" [ngClass]="{'print': print}">
        <app-portfolio-information-table [yearDetails]="betterClimateReport.portfolioYearDetails"
            [cellWidth]="cellWidth" [account]="account"></app-portfolio-information-table>
    </div>
    <div class="report" [ngClass]="{'print': print}">
        <app-absolute-emissions-table [yearDetails]="betterClimateReport.portfolioYearDetails"
            [cellWidth]="cellWidth"></app-absolute-emissions-table>
        <app-absolute-emissions-chart
            [yearDetails]="betterClimateReport.portfolioYearDetails"></app-absolute-emissions-chart>
    </div>

    <div class="report" [ngClass]="{'print': print}">
        <app-emissions-reductions-table [yearDetails]="betterClimateReport.portfolioYearDetails"
            [cellWidth]="cellWidth"></app-emissions-reductions-table>
        <app-emissions-reductions-chart [yearDetails]="betterClimateReport.portfolioYearDetails">
        </app-emissions-reductions-chart>
    </div>

    <div class="report" [ngClass]="{'print': print}">
        <app-total-portfolio-energy-use-table [yearDetails]="betterClimateReport.portfolioYearDetails"
            [cellWidth]="cellWidth"></app-total-portfolio-energy-use-table>
    </div>
    <!--TODO: Add vehicle emissions to meters-->
    <!-- <app-vehicle-energy-use-table [yearDetails]="betterClimateReport.portfolioYearDetails" [cellWidth]="cellWidth"></app-vehicle-energy-use-table> -->

    <div class="report" [ngClass]="{'print': print}">
        <app-graph-calculations-table [yearDetails]="betterClimateReport.portfolioYearDetails"
            [cellWidth]="cellWidth"></app-graph-calculations-table>
    </div>
    <!-- <ng-container *ngFor="let annualFacilitySummary of betterClimateReport.annualFacilitiesSummaries">
        <div class="report" [ngClass]="{'print': print}">
            <app-annual-facility-climate-summary-table
                [annualFacilitySummary]="annualFacilitySummary"></app-annual-facility-climate-summary-table>
        </div>
    </ng-container> -->


    <div class="report" [ngClass]="{'print': print}">
        <app-annual-facility-climate-summary-table
            [annualFacilitiesSummaries]="betterClimateReport.annualFacilitiesSummaries"
            [facilityTotals]="betterClimateReport.facilityTotals" [emissionsType]="'scope1'"
            [betterClimateReport]="betterClimateReport"
            [accountDetails]="betterClimateReport.portfolioYearDetails"></app-annual-facility-climate-summary-table>
    </div>
    <div class="report" [ngClass]="{'print': print}">
        <app-annual-facility-climate-summary-table
            [annualFacilitiesSummaries]="betterClimateReport.annualFacilitiesSummaries"
            [facilityTotals]="betterClimateReport.facilityTotals" [emissionsType]="'scope2Market'"
            [betterClimateReport]="betterClimateReport"
            [accountDetails]="betterClimateReport.portfolioYearDetails"></app-annual-facility-climate-summary-table>
    </div>
    <div class="report" [ngClass]="{'print': print}">
        <app-annual-facility-climate-summary-table
            [annualFacilitiesSummaries]="betterClimateReport.annualFacilitiesSummaries"
            [facilityTotals]="betterClimateReport.facilityTotals" [emissionsType]="'scope2Location'"
            [betterClimateReport]="betterClimateReport"
            [accountDetails]="betterClimateReport.portfolioYearDetails"></app-annual-facility-climate-summary-table>
    </div>
</ng-container>



<div class="w-100 justify-content-center" *ngIf="calculating != false">
    <div class="p-5">
        <app-calculating-spinner [error]="calculating == 'error'"
            [message]="'Generating Better Climate Report...'"></app-calculating-spinner>
    </div>
</div>

<app-print-report-button *ngIf="calculating == false"></app-print-report-button>