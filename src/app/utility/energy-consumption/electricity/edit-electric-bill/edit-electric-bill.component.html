<h4>Edit Electric Bill</h4>

<div class="filter item-right">
    <button class="btn" [ngClass]="{'btn-outline' : !filterInpMenu, 'btn-solid' : filterInpMenu}"
        (click)="toggleFilterInpMenu()">Filter</button>
</div>
<!--Input Filters-->
<div class="filter-dropdown" [hidden]="!filterInpMenu">
    <label *ngFor="let filterInps of filterInp; let index = index;">
        <input type="checkbox" name="filterInps.name" [checked]="filterInps.filter"
            (change)="toggleFilterInpsFilter(index)">{{filterInps.display}}
    </label>
    <br><br>
    <a (click)="showAllFields();">Show All</a>
</div>

<p class="bold">General Information</p>
<form class="meterForm" [formGroup]="meterDataForm">

    <!--Do not allow users to change these values-->
    <!-- <input hidden type="text" formControlName="id">
    <input hidden type="text" formControlName="meterId">
    <input hidden type="text" formControlName="facilityId">
    <input hidden type="text" formControlName="accountId">
    <input hidden type="text" formControlName="unit">
    <input hidden type="text" formControlName="commodityCharge"> -->

    <!--Allow users to change these values-->
    <label>Meter Read Date
        <input type="date" formControlName="readDate" required>
    </label>
    <br>
    <label [hidden]="!filterInp[0].filter">Basic Charge/fixed fee
        <span class="unit">$</span>
        <input type="text" formControlName="basicCharge">
    </label>
    <br>
    <label [hidden]="!filterInp[1].filter && !filterInp[2].filter && !filterInp[3].filter && !filterInp[4].filter">
        <p class="bold subheader">Supply Charges</p>
        <label [hidden]="!filterInp[1].filter && !filterInp[2].filter">Block Rates
            <div class="row no-margin">
                <div [hidden]="!filterInp[1].filter" class="col no-margin">
                    <input type="number" formControlName="supplyBlockAmount">
                </div>
                <div [hidden]="!filterInp[1].filter" class="col unitKwh">
                    <span class="unit">kWh</span>
                </div>
                <div [hidden]="!filterInp[2].filter" class="col no-margin">
                    <input type="number" formControlName="supplyBlockCharge">
                </div>
                <div [hidden]="!filterInp[2].filter" class="col unitCurrency">
                    <span class="unit">$</span>
                </div>
            </div>
        </label>
        <label [hidden]="!filterInp[3].filter && !filterInp[4].filter">Flat Rates
            <div class="row no-margin">
                <div [hidden]="!filterInp[3].filter" class="col no-margin">
                    <input type="number" formControlName="flatRateAmount">
                </div>
                <div [hidden]="!filterInp[3].filter" class="col unitKwh">
                    <span class="unit">kWh</span>
                </div>
                <div [hidden]="!filterInp[4].filter" class="col no-margin">
                    <input type="number" formControlName="flatRateCharge">
                </div>
                <div [hidden]="!filterInp[4].filter" class="col unitCurrency">
                    <span class="unit">$</span>
                </div>
            </div>
        </label>
    </label>

    <label
        [hidden]="!filterInp[5].filter && !filterInp[6].filter && !filterInp[7].filter && !filterInp[8].filter && !filterInp[9].filter && !filterInp[10].filter">
        <p class="bold subheader">Demand Charge</p>
        <label [hidden]="!filterInp[5].filter && !filterInp[6].filter">On-Peak Demand
            <div class="row no-margin">
                <div [hidden]="!filterInp[5].filter" class="col no-margin">
                    <input type="number" formControlName="peakAmount">
                </div>
                <div [hidden]="!filterInp[5].filter" class="col unitKwh">
                    <span class="unit">kWh</span>
                </div>
                <div [hidden]="!filterInp[6].filter" class="col no-margin">
                    <input type="number" formControlName="peakCharge">
                </div>
                <div [hidden]="!filterInp[6].filter" class="col unitCurrency">
                    <span class="unit">$</span>
                </div>
            </div>
        </label>
        <label [hidden]="!filterInp[7].filter && !filterInp[8].filter">Off-Peak Demand
            <div class="row no-margin">
                <div [hidden]="!filterInp[7].filter" class="col no-margin">
                    <input type="number" formControlName="offPeakAmount">
                </div>
                <div [hidden]="!filterInp[7].filter" class="col unitKwh">
                    <span class="unit">kWh</span>
                </div>
                <div [hidden]="!filterInp[8].filter" class="col no-margin">
                    <input type="number" formControlName="offPeakCharge">
                </div>
                <div [hidden]="!filterInp[8].filter" class="col unitCurrency">
                    <span class="unit">$</span>
                </div>
            </div>
        </label>
        <label [hidden]="!filterInp[9].filter && !filterInp[10].filter">Block Rates
            <div class="row no-margin">
                <div [hidden]="!filterInp[9].filter" class="col no-margin">
                    <input type="number" formControlName="demandBlockAmount">
                </div>
                <div [hidden]="!filterInp[9].filter" class="col unitKwh">
                    <span class="unit">kWh</span>
                </div>
                <div [hidden]="!filterInp[10].filter" class="col no-margin">
                    <input type="number" formControlName="demandBlockCharge">
                </div>
                <div [hidden]="!filterInp[10].filter" class="col unitCurrency">
                    <span class="unit">$</span>
                </div>
            </div>
        </label>
    </label>
    <label [hidden]="!filterInp[11].filter">Generation and Transmission charges
        <span class="unit">$</span>
        <input type="number" formControlName="generationTransmissionCharge">
    </label>
    <label [hidden]="!filterInp[12].filter">Delivery Charges
        <span class="unit">$</span>
        <input type="number" formControlName="deliveryCharge">
    </label>
    <label [hidden]="!filterInp[13].filter">Transmission Charges
        <span class="unit">$</span>
        <input type="number" formControlName="transmissionCharge">
    </label>
    <label [hidden]="!filterInp[14].filter">Power factor Charges
        <span class="unit">$</span>
        <input type="number" formControlName="powerFactorCharge">
    </label>

    <br><br>

    <p class="bold"
        [hidden]="!filterInp[15].filter && !filterInp[16].filter && !filterInp[17].filter && !filterInp[18].filter">
        Tax and other</p>
    <label [hidden]="!filterInp[15].filter">Local Business and Occupation Charge
        <span class="unit">$</span>
        <input type="text" formControlName="businessCharge">
    </label>
    <label [hidden]="!filterInp[16].filter">Local Utility Tax
        <span class="unit">$</span>
        <input type="text" formControlName="utilityTax">
    </label>
    <label [hidden]="!filterInp[17].filter">Late Payment Charge
        <span class="unit">$</span>
        <input type="text" formControlName="latePayment">
    </label>
    <label [hidden]="!filterInp[18].filter">Other Charges
        <span class="unit">$</span>
        <input type="text" formControlName="otherCharge">
    </label>
    <hr>
    <p class="bold">Totals</p>
    <label>Total Energy Use
        <span class="unit">kWh</span>
        <input type="text" formControlName="totalEnergyUse" required>
    </label>
    <label>Total Demand
        <span class="unit">$</span>
        <input type="text" formControlName="totalDemand" required>
    </label>
    <label>Total Cost
        <span class="unit">$</span>
        <input type="text" formControlName="totalCost" required>
    </label>
    <label hidden>Checked
        <span class="unit">$</span>
        <input type="checkbox" formControlName="checked" required>
    </label>
</form>

<hr>
<a (click)="showAllFields();">Show All Fields</a><br>

<div class="saveCancel item-right">
    <button class="btn btn-primary" (click)="cancel()">Cancel</button>
    <button class="btn btn-primary" (click)="meterDataSave()">Save</button>
</div>