<div class="d-flex w-100 justify-content-end pb-2">
    <app-table-items-dropdown></app-table-items-dropdown>
</div>
<table class="table utility-data table-sm table-bordered table-hover">
    <thead>
        <tr>
            <th>Date</th>
            <th>% of Day</th>
            <th *ngIf="weatherDataSelection != 'relativeHumidity'">Dry<br> Bulb Temp</th>
            <th *ngIf="weatherDataSelection == 'degreeDays' || weatherDataSelection == 'HDD'">Heating Degree<br> Days
            </th>
            <th *ngIf="weatherDataSelection == 'degreeDays' || weatherDataSelection == 'CDD'">Cooling Degree<br> Days
            </th>
            <th *ngIf="weatherDataSelection == 'relativeHumidity'">Relative Humidity</th>
            <th *ngIf="weatherDataSelection == 'relativeHumidity'">Weighted Relative<br> Humidity</th>
            <th *ngIf="weatherDataSelection == 'dryBulbTemp'">Weighted Dry<br> Bulb Temp</th>
        </tr>
    </thead>
    <tbody class="table-group-divider">
        <tr *ngFor="let summaryData of detailedDegreeDays| slice: ((currentPageNumber-1) * itemsPerPage): currentPageNumber * itemsPerPage"
            [ngClass]="{'alert alert-danger': summaryData.gapInData}">
            <td>
                <span class="fa fa-exclamation-circle" *ngIf="summaryData.gapInData"></span>
                {{summaryData.time | date:'short'}}
            </td>
            <td>
                {{summaryData.percentOfDay * 100 | number}}
            </td>
            <td *ngIf="weatherDataSelection != 'relativeHumidity'">
                {{summaryData.dryBulbTemp | number}} &#8457;
            </td>
            <td *ngIf="weatherDataSelection == 'degreeDays' || weatherDataSelection == 'HDD'">
                {{summaryData.heatingDegreeDay | number}}
            </td>
            <td *ngIf="weatherDataSelection == 'degreeDays' || weatherDataSelection == 'CDD'">
                {{summaryData.coolingDegreeDay | number}}
            </td>
            <td *ngIf="weatherDataSelection == 'relativeHumidity'">
                {{summaryData.relativeHumidity | number:'1.0-1'}} &percnt;
            </td>
            <td *ngIf="weatherDataSelection == 'relativeHumidity'">
                {{summaryData.weightedRelativeHumidity | number:'1.0-1'}} &percnt;
            </td>
            <td *ngIf="weatherDataSelection == 'dryBulbTemp'">
                {{summaryData.weightedDryBulbTemp | number:'1.0-1'}} &#8457;
            </td>
        </tr>
    </tbody>
    <tfoot>
        <tr>
            <th>
                Total
            </th>
            <th *ngIf="weatherDataSelection != 'relativeHumidity'">

            </th>
            <th>
            <th *ngIf="weatherDataSelection == 'degreeDays' || weatherDataSelection == 'HDD'">
                {{detailedDegreeDays | total: 'heatingDegreeDay' | number}}
            </th>
            <th *ngIf="weatherDataSelection == 'degreeDays' || weatherDataSelection == 'CDD'">
                {{detailedDegreeDays | total: 'coolingDegreeDay' | number}}
            </th>
            <th *ngIf="weatherDataSelection == 'relativeHumidity'">
                {{detailedDegreeDays | average: 'relativeHumidity' | number:'1.0-1'}} &percnt;
            </th>
            <th *ngIf="weatherDataSelection == 'relativeHumidity'">
                {{detailedDegreeDays | average: 'weightedRelativeHumidity' | number:'1.0-1'}} &percnt;
            </th>
            <th *ngIf="weatherDataSelection == 'relativeHumidity'">
                {{detailedDegreeDays | average: 'weightedDryBulbTemp' | number:'1.0-1'}} &#8457;
            </th>
        </tr>
    </tfoot>
</table>


<div class="d-flex w-100 justify-content-end">
    <ngb-pagination [collectionSize]="detailedDegreeDays.length" [(page)]="currentPageNumber" [pageSize]="itemsPerPage"
        [maxSize]="5" [rotate]="true" aria-label="Pagination">
    </ngb-pagination>
</div>