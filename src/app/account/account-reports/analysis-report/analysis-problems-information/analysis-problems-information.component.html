<div *ngIf="regressionGroupItems.length > 0" class="w-100 justify-content-center">
    <div class="text-center">
        <h3>
            {{selectedReport.name}}
        </h3>
    </div>

    <div class="text-center mb-4">
        <h6>
            Generated By VERIFI
        </h6>
    </div>
    <div>
        <h4 class="mb-0">
            Problems Summary
        </h4>
    </div>

    <div *ngIf="criticalItems.length > 0" class="text-center mt-5">
        <h5 class="text-danger mb-3 d-inline-flex align-items-center gap-2">
            <i class="fa-solid fa-triangle-exclamation text-danger"></i>
            Critical Issues
        </h5>
        <table class="table table-bordered">
            <thead class="table-secondary">
                <tr>
                    <th>Facility</th>
                    <th>Group</th>
                    <th>Model Validation Failures</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of criticalItems">
                    <td>{{item.facilityId | facilityName}}</td>
                    <td>{{item.group.idbGroupId | groupName}}</td>
                    <td class="text-start">
                        <ul class="mb-0 ps-3">
                            <li *ngFor="let notes of item.selectedModel.modelValidationNotes">
                                {{notes}}
                            </li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div *ngIf="moderateItems.length > 0" class="text-center mt-5">
        <h5 class="mb-3 d-inline-flex align-items-center gap-2">
            <i class="fa-solid fa-circle-exclamation"></i>
            Moderate Issues
        </h5>
        <table class="table table-bordered">
            <thead class="table-secondary">
                <tr>
                    <th>Facility</th>
                    <th>Group</th>
                    <th>Data Validation Failures</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of moderateItems">
                    <td>{{item.facilityId | facilityName}}</td>
                    <td>{{item.group.idbGroupId | groupName}}</td>
                    <td class="text-start">
                        <ul class="mb-0 ps-3">
                            <li *ngFor="let notes of item.selectedModel.dataValidationNotes">
                                {{notes}}
                            </li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div *ngIf="minorItems.length > 0" class="text-center mt-5">
        <h5 class="mb-3 d-inline-flex align-items-center gap-2">
            <i class="fa-solid fa-circle-exclamation"></i>
            Minor Issues
        </h5>
        <table class="table table-bordered">
            <thead class="table-secondary">
                <tr>
                    <th>Facility</th>
                    <th>Group</th>
                    <th>Model Notes</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of minorItems">
                    <td>{{item.facilityId | facilityName}}</td>
                    <td>{{item.group.idbGroupId | groupName}}</td>
                    <td class="text-start">
                        <ul class="mb-0 ps-3">
                            <li *ngFor="let notes of item.selectedModel.modelNotes">
                                {{notes}}
                            </li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div *ngIf="regressionGroupItems.length == 0" class="w-100 justify-content-center">
    <div class="text-center mt-3 pt-3 fw-bold fs-5">
        Problems Summary Not Available
    </div>
</div>