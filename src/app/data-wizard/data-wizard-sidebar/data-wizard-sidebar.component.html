<div class="h-100 navbar d-flex flex-column align-items-start justify-content-start">


    <div class="ps-1 pe-1 w-100">
        <div class="ps-2 pe-2 nav-item">
            <a class="nav-link" [routerLink]="'/data-wizard/'+account.guid + '/account-setup'"
                [routerLinkActive]="['active']"
                [routerLinkActiveOptions]="{ exact: true }">
                Corporate Settings
            </a>
        </div>
        <div class="p-2 w-100">
            <hr class="my-1">
        </div>
        <div class="ps-2 pe-2 nav-item">
            <a class="nav-link" [routerLink]="'/data-wizard/'+account.guid+'/import-data/upload-files'"
                [routerLinkActive]="['active']"
                [routerLinkActiveOptions]="{ exact: true }">
                Data Upload
            </a>
        </div>
        <ng-container *ngFor="let fileReference of fileReferences">
            <ng-template [ngIf]="fileReference.isTemplate" [ngIfElse]="nonTemplateBlock">
                <div class="ps-2 pe-2 nav-item">
                    <a class="nav-link"
                        [routerLink]="'/data-wizard/'+account.guid+'/import-data/process-template-file/' +fileReference.id"
                        [routerLinkActive]="['active']"
                        [routerLinkActiveOptions]="{ exact: true }">
                        {{fileReference.name}}
                    </a>
                </div>
                <div class="ps-2 pe-2 nav-item">
                    <a class="nav-link secondary-nav"
                        [routerLink]="'/data-wizard/'+account.guid+'/import-data/process-template-file/' +fileReference.id +'/facilities'"
                        [routerLinkActive]="['active']"
                        [routerLinkActiveOptions]="{ exact: true }">
                        Facilities
                    </a>
                </div>
                <div class="ps-2 pe-2 nav-item">
                    <a class="nav-link secondary-nav"
                        [routerLink]="'/data-wizard/'+account.guid+'/import-data/process-template-file/' +fileReference.id +'/meters'"
                        [routerLinkActive]="['active']"
                        [routerLinkActiveOptions]="{ exact: true }">
                        Meters
                    </a>
                </div>
                <div class="ps-2 pe-2 nav-item">
                    <a class="nav-link secondary-nav"
                        [routerLink]="'/data-wizard/'+account.guid+'/import-data/process-template-file/' +fileReference.id +'/meter-readings'"
                        [routerLinkActive]="['active']"
                        [routerLinkActiveOptions]="{ exact: true }">
                        Readings
                    </a>
                </div>
                <div class="ps-2 pe-2 nav-item">
                    <a class="nav-link secondary-nav"
                        [routerLink]="'/data-wizard/'+account.guid+'/import-data/process-template-file/' +fileReference.id +'/predictors'"
                        [routerLinkActive]="['active']"
                        [routerLinkActiveOptions]="{ exact: true }">
                        Predictors
                    </a>
                </div>
            </ng-template>
            <ng-template #nonTemplateBlock>

            </ng-template>
        </ng-container>
        <div class="p-2 w-100">
            <hr class="my-1">
        </div>
        <div class="ps-2 pe-2 nav-item">
            <a class="nav-link" [routerLink]="'/data-wizard/'+account.guid+'/facilities'"
                [routerLinkActive]="['active']"
                [routerLinkActiveOptions]="{ exact: true }">
                Facilities
            </a>
        </div>
        <ng-container *ngFor="let facility of facilities">
            <div class="ps-2 pe-2 nav-item">
                <a class="nav-link secondary-nav" [routerLink]="'/data-wizard/'+account.guid+'/facility/'+facility.guid"
                    [routerLinkActive]="['active']"
                    [routerLinkActiveOptions]="{ exact: true }">
                    {{facility.name}}
                </a>
            </div>
            <!-- <div class="ps-2 pe-2 nav-item">
                <a class="nav-link third-nav"
                    [routerLink]="'/data-wizard/'+account.guid+'/facility/'+facility.guid+'/setup'"
                    [routerLinkActive]="['active']"
                    [routerLinkActiveOptions]="{ exact: true }">
                    Settings
                </a>
            </div> -->
            <div class="ps-2 pe-2 nav-item">
                <a class="nav-link third-nav"
                    [routerLink]="'/data-wizard/'+account.guid+'/facility/'+facility.guid+'/meters'"
                    [routerLinkActive]="['active']"
                    [routerLinkActiveOptions]="{ exact: true }">
                    Meters
                </a>
            </div>
            <ng-container *ngFor="let meter of facility.guid | facilityMetersList:accountMeters">
                <div class="ps-2 pe-2 nav-item">
                    <a class="nav-link fourth-nav"
                        [routerLink]="'/data-wizard/'+account.guid+'/facility/'+facility.guid+'/meters/meter/'+meter.guid"
                        [routerLinkActive]="['active']"
                        [routerLinkActiveOptions]="{ exact: true }">
                        {{meter.name}}
                    </a>
                </div>
            </ng-container>
        </ng-container>
    </div>
    <div class="p-2 w-100">
        <hr class="my-1">
    </div>
</div>