<form>
    <div class="row">
        <div class="col">
            <label class="semibold">Report Sections to Include</label>
            <div class="form-check">
                <input type="checkbox" class="form-check-input" name="includePortfolioInformation"
                    id="includePortfolioInformation" [(ngModel)]="reportSetup.includePortfolioInformation"
                    (change)="save()">
                <label class="form-check-label" for="includePortfolioInformation">Portfolio Information</label>
            </div>
            <div class="form-check">
                <input type="checkbox" class="form-check-input" name="includeAbsoluteEmissions"
                    id="includeAbsoluteEmissions" [(ngModel)]="reportSetup.includeAbsoluteEmissions" (change)="save()">
                <label class="form-check-label" for="includeAbsoluteEmissions">Absolute Emissions</label>
            </div>
            <div class="form-check">
                <input type="checkbox" class="form-check-input" name="includeGHGEmissionsReductions"
                    id="includeGHGEmissionsReductions" [(ngModel)]="reportSetup.includeGHGEmissionsReductions"
                    (change)="save()">
                <label class="form-check-label" for="includeGHGEmissionsReductions">GHG Emissions Reductions</label>
            </div>
            <div class="form-check">
                <input type="checkbox" class="form-check-input" name="includePortfolioEnergyUse"
                    id="includePortfolioEnergyUse" [(ngModel)]="reportSetup.includePortfolioEnergyUse"
                    (change)="save()">
                <label class="form-check-label" for="includePortfolioEnergyUse">Portfolio Energy Use</label>
            </div>
            <div class="form-check">
                <input type="checkbox" class="form-check-input" name="includeCalculationsForGraphs"
                    id="includeCalculationsForGraphs" [(ngModel)]="reportSetup.includeCalculationsForGraphs"
                    (change)="save()">
                <label class="form-check-label" for="includeCalculationsForGraphs">Calculations for Graphs</label>
            </div>
            <div class="form-check">
                <input type="checkbox" class="form-check-input" name="includeFacilitySummaries"
                    id="includeFacilitySummaries" [(ngModel)]="reportSetup.includeFacilitySummaries" (change)="save()">
                <label class="form-check-label" for="includeFacilitySummaries">Facility Summaries</label>
            </div>
        </div>

        <div class="col">
            <label class="semibold">Reporting toward a market-based or location-based
                goal?</label>
            <div class="form-check">
                <input type="radio" class="form-check-input" name="emissionsDisplay" [value]="'market'"
                    id="marketEmissions" [(ngModel)]="reportSetup.emissionsDisplay" (change)="save()">
                <label class="form-check-label" for="marketEmissions">Market-based</label>
            </div>
            <div class="form-check">
                <input type="radio" class="form-check-input" name="emissionsDisplay" [value]="'location'"
                    id="locationEmissions" [(ngModel)]="reportSetup.emissionsDisplay" (change)="save()">
                <label class="form-check-label" for="locationEmissions">Location-based</label>
            </div>

            <div class="form-group">
                <label for="numberOfTopPerformers">Number of Top Performers to Highlight</label>
                <select id="numberOfTopPerformers" name="numberOfTopPerformers"  [(ngModel)]="reportSetup.numberOfTopPerformers"
                    class="form-select auto-width" required (change)="save()">
                    <option *ngFor="let value of numberOfPerformerOptions" [ngValue]="value">{{value}}</option>
                </select>
            </div>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="col-12">
            <hr>
        </div>
        <div class="col-12">
            <h5>
                Emissions Reduction Initiatives
            </h5>
            <p>
                Provide a brief description (2-3 sentences) of your organization's emissions reduction
                initiatives that were active during the reporting year. Please focus on the initiatives
                implemented to reduce Scope 1-2 emissions, which will help DOE understand pathways leveraged to
                make progress toward your goal. Provide specifics on emissions reduced by activity, if
                available. Using this information, DOE will work with organizations to develop content that will
                be shared on the Better Buildings Solutions Center, with partner approval, and linked to your
                profile page.
                <br>
                *Note: this information aligns with questions C4.3a-C4.3c in the CDP Climate Questionnaire.
            </p>
            <ng-container *ngIf="reportSetup.initiativeNotes.length != 0">
                <div class="row">
                    <div class="col-2 bold">
                        Year
                    </div>
                    <div class="col-8 bold">
                        Description
                    </div>
                </div>
                <div class="row pb-2" *ngFor="let initiativeNote of reportSetup.initiativeNotes; let index = index;">
                    <div class="col-2">
                        <select id="{{'initiativeYear'+index}}" name="{{'initiativeYear'+index}}"
                            [(ngModel)]="initiativeNote.year" class="form-select" required (change)="save()">
                            <option *ngFor="let year of reportYears" [ngValue]="year">{{year | yearDisplay:
                                account.fiscalYear}}</option>
                        </select>
                    </div>
                    <div class="col-9">
                        <textarea class="form-control" name="{{'initiativeNote'+index}}" id="{{'initiativeNote'+index}}"
                            [(ngModel)]="initiativeNote.note" (input)="save()" rows="1"></textarea>
                    </div>
                    <div class="col-1">
                        <button class="btn btn-danger" (click)="deleteNote(index)">
                            <span class="fa fa-trash"></span>
                        </button>
                    </div>

                </div>
                <div class="row justify-content-end" *ngIf="reportSetup.initiativeNotes.length != 0">
                    <div class="col-2">
                        <button class="btn action-btn" (click)="addNote()">Add Another Initiative</button>
                    </div>
                </div>
            </ng-container>
        </div>

        <div class="col-4 pt-3" *ngIf="reportSetup.initiativeNotes.length == 0">
            <div class="card add-card">
                <div class="card-body" (click)="addNote()">
                    <h5 class="card-title text-center">
                        Add Emissions Reduction Initiatives
                    </h5>
                    <div class="w-100 text-center">
                        <span class="fa fa-plus-circle"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>