<h4>Edit Electric Bill</h4>

<app-utility-meter-data-filter></app-utility-meter-data-filter>

<br>
<div class="windowContentScroll">
  <p class="bold">General Information</p>
  <form class="meterForm" [formGroup]="meterDataForm">

    <div class="row">
      <div class="col-6">
        <label for="readDate">
          Meter Read Date 
          <span class="required">*</span> 
        </label>
        <div class="input-group mb-3"> 
          <input id="readDate" class="form-control" type="date" formControlName="readDate" required>
        </div>

        <label for="totalEnergyUse">
          Total Energy Use 
          <span class="required">*</span> 
        </label>
        <div class="input-group mb-3">
          <input id="totalEnergyUse" class="form-control" type="number" formControlName="totalEnergyUse" required>
          <span class="unit">kWh</span>
        </div>
      </div>
      <div class="col">
        <label for="totalDemand">
          Total Demand 
          <span class="required">*</span> 
        </label>
        <div class="input-group mb-3"> 
          <input id="totalDemand" class="form-control"type="number" formControlName="totalDemand" required>
          <span class="unit">$</span>
        </div>

        <label for="totalCost">
          Total Cost 
          <span class="required">*</span> 
        </label>
        <div class="input-group mb-3">  
          <input id="totalCost" class="form-control" type="number" formControlName="totalCost" required>
          <span class="unit">$</span>
        </div>

      </div>
    </div>

    <br>
    <hr>
    <br>

    <div [hidden]="!electricityDataFilters[5].filter && !electricityDataFilters[6].filter && !electricityDataFilters[7].filter && !electricityDataFilters[8].filter && !electricityDataFilters[9].filter && !electricityDataFilters[10].filter && !electricityDataFilters[1].filter && !electricityDataFilters[2].filter && !electricityDataFilters[3].filter && !electricityDataFilters[4].filter">
      <p class="bold">Supply / Demand Charge</p>
      <div class="row">
        <div class="col" [hidden]="!electricityDataFilters[5].filter && !electricityDataFilters[6].filter && !electricityDataFilters[7].filter && !electricityDataFilters[8].filter && !electricityDataFilters[9].filter && !electricityDataFilters[10].filter">
          <label for="peakAmount" [hidden]="!electricityDataFilters[5].filter && !electricityDataFilters[6].filter">On-Peak Demand</label>
          <div class="input-group mb-3" [hidden]="!electricityDataFilters[5].filter && !electricityDataFilters[6].filter">
            <input id="peakAmount" [hidden]="!electricityDataFilters[5].filter" class="form-control" type="number" formControlName="peakAmount">
            <span [hidden]="!electricityDataFilters[5].filter" class="unit">kWh</span>
            <input id="peakCharge" [hidden]="!electricityDataFilters[6].filter" class="form-control" type="number" formControlName="peakCharge">
            <span [hidden]="!electricityDataFilters[6].filter" class="unit">$</span>
          </div>

          <label for="offPeakAmount" [hidden]="!electricityDataFilters[7].filter && !electricityDataFilters[8].filter">Off-Peak Demand</label>
          <div class="input-group mb-3" [hidden]="!electricityDataFilters[7].filter && !electricityDataFilters[8].filter">
            <input id="offPeakAmount" [hidden]="!electricityDataFilters[7].filter" class="form-control" type="number" formControlName="offPeakAmount">
            <span [hidden]="!electricityDataFilters[7].filter" class="unit">kWh</span>
            <input id="offPeakCharge" [hidden]="!electricityDataFilters[8].filter" class="form-control" type="number" formControlName="offPeakCharge">
            <span [hidden]="!electricityDataFilters[8].filter" class="unit">$</span>
          </div>

          <label for="demandBlockAmount" [hidden]="!electricityDataFilters[9].filter && !electricityDataFilters[10].filter">Block Rates Demand</label>
          <div class="input-group mb-3" [hidden]="!electricityDataFilters[9].filter && !electricityDataFilters[10].filter">
            <input id="demandBlockAmount" [hidden]="!electricityDataFilters[9].filter" class="form-control" type="number" formControlName="demandBlockAmount">
            <span [hidden]="!electricityDataFilters[9].filter" class="unit">kWh</span>
            <input id="demandBlockCharge" [hidden]="!electricityDataFilters[10].filter" class="form-control" type="number" formControlName="demandBlockCharge">
            <span [hidden]="!electricityDataFilters[10].filter" class="unit">$</span>
          </div>
        </div>

        <div class="col" [hidden]="!electricityDataFilters[1].filter && !electricityDataFilters[2].filter && !electricityDataFilters[3].filter && !electricityDataFilters[4].filter">
          <label for="supplyBlockAmount" [hidden]="!electricityDataFilters[1].filter && !electricityDataFilters[2].filter">Block Rates Supply</label>
          <div class="input-group mb-3" [hidden]="!electricityDataFilters[1].filter && !electricityDataFilters[2].filter">
            <input id="supplyBlockAmount" [hidden]="!electricityDataFilters[1].filter" class="form-control" type="number" formControlName="supplyBlockAmount">
            <span [hidden]="!electricityDataFilters[1].filter" class="unit">kWh</span>
            <input id="supplyBlockCharge" [hidden]="!electricityDataFilters[2].filter" class="form-control" type="number" formControlName="supplyBlockCharge">
            <span [hidden]="!electricityDataFilters[2].filter" class="unit">$</span>
          </div>

          <label for="flatRateAmount" [hidden]="!electricityDataFilters[3].filter && !electricityDataFilters[4].filter">Flat Rates Supply</label>
          <div class="input-group mb-3" [hidden]="!electricityDataFilters[3].filter && !electricityDataFilters[4].filter">
            <input id="flatRateAmount" [hidden]="!electricityDataFilters[3].filter" class="form-control" type="number" formControlName="flatRateAmount">
            <span [hidden]="!electricityDataFilters[3].filter" class="unit">kWh</span>
            <input id="flatRateCharge" [hidden]="!electricityDataFilters[4].filter" class="form-control" type="number" formControlName="flatRateCharge">
            <span [hidden]="!electricityDataFilters[4].filter" class="unit">$</span>
          </div>
        </div>
      </div>

      <br>
      <hr>
      <br>

    </div>

    <div [hidden]="!electricityDataFilters[0].filter && !electricityDataFilters[12].filter && !electricityDataFilters[13].filter && !electricityDataFilters[14].filter && !electricityDataFilters[15].filter && !electricityDataFilters[16].filter && !electricityDataFilters[17].filter && !electricityDataFilters[18].filter">
      <p class="bold">Tax and other</p>
      <div class="row">
        <div class="col" [hidden]="!electricityDataFilters[0].filter && !electricityDataFilters[15].filter && !electricityDataFilters[16].filter && !electricityDataFilters[17].filter && !electricityDataFilters[18].filter">
          <label for="businessCharge" [hidden]="!electricityDataFilters[15].filter">Local Business and Occupation Charge</label>
          <div class="input-group mb-3" [hidden]="!electricityDataFilters[15].filter">
            <input id="businessCharge" class="form-control" type="number" formControlName="businessCharge">
            <span class="unit">$</span>
          </div>

          <label for="utilityTax" [hidden]="!electricityDataFilters[16].filter">Local Utility Tax</label>
          <div class="input-group mb-3" [hidden]="!electricityDataFilters[16].filter">
            <input id="utilityTax" class="form-control" type="number" formControlName="utilityTax">
            <span class="unit">$</span>
          </div>

          <label for="latePayment" [hidden]="!electricityDataFilters[17].filter">Late Payment Charge</label>
          <div class="input-group mb-3" [hidden]="!electricityDataFilters[17].filter">
            <input id="latePayment" class="form-control" type="number" formControlName="latePayment">
            <span class="unit">$</span>
          </div>

          <label for="otherCharge" [hidden]="!electricityDataFilters[18].filter">Other Charge</label>
          <div class="input-group mb-3" [hidden]="!electricityDataFilters[18].filter">
            <input id="otherCharge" class="form-control" type="number" formControlName="otherCharge">
            <span class="unit">$</span>
          </div>

          <label for="basicCharge" [hidden]="!electricityDataFilters[0].filter">Basic Charge/fixed fee</label>
          <div class="input-group mb-3" [hidden]="!electricityDataFilters[0].filter">
            <input id="basicCharge" class="form-control" type="text" formControlName="basicCharge">
            <span class="unit">$</span>
          </div>
        </div>

        <div class="col" [hidden]="!electricityDataFilters[11].filter && !electricityDataFilters[12].filter && !electricityDataFilters[13].filter && !electricityDataFilters[14].filter">
          <label for="generationTransmissionCharge" [hidden]="!electricityDataFilters[11].filter">Generation and Transmission Charge</label>
          <div class="input-group mb-3" [hidden]="!electricityDataFilters[11].filter">
            <input id="generationTransmissionCharge" class="form-control" type="number" formControlName="generationTransmissionCharge">
            <span class="unit">$</span>
          </div>

          <label for="deliveryCharge" [hidden]="!electricityDataFilters[12].filter">Delivery Charge</label>
          <div class="input-group mb-3" [hidden]="!electricityDataFilters[12].filter">
            <input id="deliveryCharge" class="form-control" type="number" formControlName="deliveryCharge">
            <span class="unit">$</span>
          </div>

          <label for="transmissionCharge" [hidden]="!electricityDataFilters[13].filter">Transmission Charge</label>
          <div  class="input-group mb-3"[hidden]="!electricityDataFilters[13].filter">
            <input id="transmissionCharge" class="form-control" type="number" formControlName="transmissionCharge">
            <span class="unit">$</span>
          </div>

          <label for="powerFactorCharge" [hidden]="!electricityDataFilters[14].filter">Power factor Charge</label>
          <div class="input-group mb-3" [hidden]="!electricityDataFilters[14].filter">
            <input id="powerFactorCharge" class="form-control" type="number" formControlName="powerFactorCharge">
            <span class="unit">$</span>
          </div>
        </div>
      </div>
      <br>
      <hr>
      <br>

    </div>
  </form>
</div>

<div class="saveCancel item-right">
  <button class="btn btn-secondary" (click)="cancel()">Cancel</button>
  <button class="btn btn-primary" (click)="meterDataSave()">Save</button>
</div>