<h4>Import Meters</h4>
<br>
<form>
    <input type="file" #inputFile accept=".csv" (change)="meterDataImport($event.target.files)">
</form>
<br>
<div class="importQuickView" [hidden]="!quickView">
    <p class="bold">Quick View</p>
    <table>
        <tr>
            <th class="row-year">Meter Read Date</th>
            <th>Total kWh</th>
            <th>Total Demand</th>
            <th>Total Cost</th>
            <th *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.supplyBlockAmount">
                Block Rates Supply Amt
            </th>
            <th *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.supplyBlockCharge">
                Block Rates Supply Charge
            </th>
            <th *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.flatRateAmount">
                Flat Rate Amt
            </th>
            <th *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.flatRateCharge">
                Flat Rate Charge
            </th>
            <th *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.peakAmount">
                On-Peak Amt
            </th>
            <th *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.peakCharge">
                On-Peak Charge
            </th>
            <th *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.offPeakAmount">
                Off-Peak Amt
            </th>
            <th *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.offPeakCharge">
                Off-Peak Charge
            </th>
            <th *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.demandBlockAmount">
                Block Rates Demand Amt
            </th>
            <th *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.demandBlockCharge">
                Block Rates Demand Charge
            </th>

            <th *ngIf="selectedSource == 'Electricity' && taxAndOther.generationTransmissionCharge">
                Generation and Transmission Charge
            </th>
            <th *ngIf="selectedSource == 'Electricity' && taxAndOther.deliveryCharge">
                Delivery Charge
            </th>
            <th *ngIf="selectedSource == 'Electricity' && taxAndOther.transmissionCharge">
                Transmission Charge
            </th>
            <th *ngIf="selectedSource == 'Electricity' && taxAndOther.powerFactorCharge">
                Power Factor Charge
            </th>
            <th *ngIf="selectedSource == 'Electricity' && taxAndOther.businessCharge">
                Local Business Charge
            </th>
            <th *ngIf="selectedSource == 'Electricity' && taxAndOther.utilityTax">
                Local Utility Tax
            </th>
            <th *ngIf="selectedSource == 'Electricity' && taxAndOther.latePayment">
                Late Payment
            </th>
            <th *ngIf="selectedSource == 'Electricity' && taxAndOther.otherCharge">
                Other Charge
            </th>
            <th *ngIf="selectedSource == 'Electricity' && taxAndOther.basicCharge">
                Basic Charge
            </th>
        </tr>
        <tr *ngFor="let item of quickView">
            <td>{{item.readDate}}</td>
            <td>{{item.totalKwh}}</td>
            <td>{{item.totalDemand}}</td>
            <td>${{item.totalCost}}</td>
            <td *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.supplyBlockAmount">
                {{item.supplyBlockAmount}}
            </td>
            <td *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.supplyBlockCharge">
                {{item.supplyBlockCharge}}
            </td>
            <td *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.flatRateAmount">
                {{item.flatRateAmount}}
            </td>
            <td *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.flatRateCharge">
                {{item.flatRateCharge}}
            </td>
            <td *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.peakAmount">
                {{item.peakAmount}}
            </td>
            <td *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.peakCharge">
                {{item.peakCharge}}
            </td>
            <td *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.offPeakAmount">
                {{item.offPeakAmount}}
            </td>
            <td *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.offPeakCharge">
                {{item.offPeakCharge}}
            </td>
            <td *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.demandBlockAmount">
                {{item.demandBlockAmount}}
            </td>
            <td *ngIf="selectedSource == 'Electricity' && supplyDemandCharge.demandBlockCharge">
                {{item.demandBlockCharge}}
            </td>

            <td *ngIf="selectedSource == 'Electricity' && taxAndOther.generationTransmissionCharge">
                {{item.generationTransmissionCharge}}
            </td>
            <td *ngIf="selectedSource == 'Electricity' && taxAndOther.deliveryCharge">
                {{item.deliveryCharge}}
            </td>
            <td *ngIf="selectedSource == 'Electricity' && taxAndOther.transmissionCharge">
                {{item.transmissionCharge}}
            </td>
            <td *ngIf="selectedSource == 'Electricity' && taxAndOther.powerFactorCharge">
                {{item.powerFactorCharge}}
            </td>
            <td *ngIf="selectedSource == 'Electricity' && taxAndOther.businessCharge">
                {{item.businessCharge}}
            </td>
            <td *ngIf="selectedSource == 'Electricity' && taxAndOther.utilityTax">
                {{item.utilityTax}}
            </td>
            <td *ngIf="selectedSource == 'Electricity' && taxAndOther.latePayment">
                {{item.latePayment}}
            </td>
            <td *ngIf="selectedSource == 'Electricity' && taxAndOther.otherCharge">
                {{item.otherCharge}}
            </td>
            <td *ngIf="selectedSource == 'Electricity' && taxAndOther.basicCharge">
                {{item.basicCharge}}
            </td>
        </tr>
    </table>
</div>
<p class="alert alert-danger" [hidden]="importError ==  undefined">
    {{importError}}</p>

<div class="saveCancel item-right">
    <button class="btn btn-secondary" (click)="resetImport()">Cancel</button>
    <button class="btn btn-primary" (click)="meterAddCSV()" [disabled]="importError != undefined">Submit</button>
</div>