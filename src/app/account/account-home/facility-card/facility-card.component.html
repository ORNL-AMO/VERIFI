<div class="card">
    <div class="card-header">
        <h3 class="card-title"> <span class="fa fa-industry pr-2" [ngStyle]="{color: facility.color}"></span>
            <a routerLink="/facility/{{facility.id}}">
                {{facility.name}}
            </a>
        </h3>
        <p class="card-text" *ngIf="facility.address">{{facility.address}}, {{facility.city}},
            {{facility.state}}
            {{facility.zip}}
            {{facility.country}}
        </p>
    </div>
    <ul class="list-group list-group-flush">
        <!--meters-->
        <li class="list-group-item">
            <a class="nav-link" routerLink="/facility/{{facility.id}}/utility">
                <span class="fa fa-chevron-right pr-2"></span>
                <span *ngIf="sources.length != 0">Utility Sources: </span>
                <span class="badge ml-2" *ngFor="let source of sources"
                    [ngStyle]="{'background-color': getColor(source)}">{{source}}</span>
                <span *ngIf="sources.length == 0">No Sources Found For Facility</span>
            </a>
        </li>
        <li class="list-group-item">
            <a class="nav-link" routerLink="/facility/{{facility.id}}/utility">
                <span class="fa fa-chevron-right pr-2"></span>
                <span *ngIf="lastBill">Latest Meter Reading: {{lastBill.readDate | date}}</span>
                <span *ngIf="!lastBill">
                    No Meter Readings Found For Facility
                </span>
            </a>
        </li>
        <!--predictors-->
        <li class="list-group-item" *ngIf="latestPredictorEntry">
            <a class="nav-link" routerLink="/facility/{{facility.id}}/utility/predictors">
                <span class="fa fa-chevron-right pr-2"></span>
                <span *ngIf="facilityPredictors">Facility Predictor Variables:
                    <span class="badge badge-info ml-2"
                        *ngFor="let predictor of facilityPredictors">{{predictor.name}}</span>
                </span>
                <span *ngIf="!facilityPredictors">No Predictor Variables Found</span>
            </a>
        </li>
        <li class="list-group-item">
            <a class="nav-link" routerLink="/facility/{{facility.id}}/utility/predictors">
                <span class="fa fa-chevron-right pr-2"></span>
                <span *ngIf="latestPredictorEntry">Latest Predictor Entry: {{latestPredictorEntry.date | date}}</span>
                <span *ngIf="!latestPredictorEntry">
                    No Predictor Entries Found For Facility
                </span>
            </a>
        </li>
        <!--analysis-->

        <li class="list-group-item">
            <a class="nav-link" routerLink="/facility/{{facility.id}}/analysis">
                <span class="fa fa-chevron-right pr-2"></span>
                <span *ngIf="latestAnalysisItem">Latest Facility Analysis: {{latestAnalysisItem.reportYear}}</span>
                <span *ngIf="!latestAnalysisItem">No Analysis Found For Facility</span>
            </a>
        </li>
    </ul>
    <div class="card-footer">
        <div class="d-flex icon-row">
            <a title="Facility Overview" class="nav-link" routerLink="/facility/{{facility.id}}/home"><i
                    class="fa fa-home"></i>
            </a>
            <a title="Facility Utility Data" class="nav-link" routerLink="/facility/{{facility.id}}/utility"><i
                    class="fa fa-book"></i>
            </a>
            <a title="Facility Data Visualization" class="nav-link"
                routerLink="/facility/{{facility.id}}/visualization"><i class="fa fa-chart-line"></i>
            </a>
            <a title="Facility Analysis" class="nav-link" routerLink="/facility/{{facility.id}}/analysis"><i
                    class="fa fa-microscope"></i>
            </a>
            <a title="Facility Settings" class="nav-link" routerLink="/facility/{{facility.id}}/settings"><i
                    class="fa fa-cog"></i>
            </a>
        </div>
    </div>
</div>