<form>
    <div class="row">
        <div class="col-6">
            <div class="row form-group mb-2">
                <label class="col-3 col-form-label semibold" for="startDate">Start Date</label>

                <div class="col-3">
                    <select name="startMonth" [(ngModel)]="startMonth" class="form-select" (change)="saveDateRange()">
                        <option class="pe-2" *ngFor="let month of months" [ngValue]="month.monthNumValue">
                            {{month.abbreviation}}</option>
                    </select>
                </div>
                <div class="col-3">
                    <select name="startYear" [(ngModel)]="startYear" class="form-select" (change)="saveDateRange()">
                        <option class="pe-2" *ngFor="let year of years" [ngValue]="year">{{year}}
                        </option>
                    </select>
                </div>
            </div>
            <div class="row form-group">
                <label class="col-3 col-form-label semibold" for="endMonth">End Date</label>
                <div class="col-3">
                    <select name="endMonth" [(ngModel)]="endMonth" class="form-select" (change)="saveDateRange()">
                        <option class="pe-2" *ngFor="let month of months" [ngValue]="month.monthNumValue">
                            {{month.abbreviation}}</option>
                    </select>
                </div>
                <div class="col-3">
                    <select name="endYear" [(ngModel)]="endYear" class="form-select" (change)="saveDateRange()">
                        <option class="pe-2" *ngFor="let year of years" [ngValue]="year">{{year}}
                        </option>
                    </select>
                </div>
            </div>
        </div>
        <div class="col-6 justify-content-center">
            <label class="semibold">Meters or Groups? </label>
            <div class="form-check ms-2">
                <input type="radio" class="form-check-input" name="asMeters" [value]="true" id="asMeters"
                    (change)="savePlotOptions()" [(ngModel)]="correlationPlotOptions.asMeters">
                <label class="form-check-label" for="asMeters">Meters</label>
            </div>
            <div class="form-check ms-2">
                <input type="radio" class="form-check-input" name="notAsMeters" [value]="false" id="notAsMeters"
                    [(ngModel)]="correlationPlotOptions.asMeters" (change)="savePlotOptions()">
                <label class="form-check-label" for="notAsMeters">Groups</label>
            </div>

        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <hr>
        </div>
    </div>
    <div class="row">
        <div class="col-6">
            <div class="row">
                <div class="col-12">
                    <label class="semibold">Plotted on Y-Axis</label>
                </div>
                <div class="col-6">
                    <div *ngIf="correlationPlotOptions.asMeters">
                        <label>Meters</label>
                        <div class="form-check ms-2"
                            *ngFor="let xAxisOption of correlationPlotOptions.yAxisMeterOptions">
                            <input class="form-check-input" type="checkbox" name="{{xAxisOption.label+'y'}}"
                                id="{{xAxisOption.label+'y'}}" [(ngModel)]="xAxisOption.selected"
                                (change)="savePlotOptions()">
                            <label class="form-check-label"
                                for="{{xAxisOption.label+'y'}}">{{xAxisOption.label}}</label>
                        </div>
                    </div>
                    <div *ngIf="!correlationPlotOptions.asMeters">
                        <label>Groups</label>
                        <div class="form-check ms-2"
                            *ngFor="let xAxisOption of correlationPlotOptions.yAxisGroupOptions">
                            <input class="form-check-input" type="checkbox" name="{{xAxisOption.label+'y'}}"
                                id="{{xAxisOption.label+'y'}}" [(ngModel)]="xAxisOption.selected"
                                (change)="savePlotOptions()">
                            <label class="form-check-label"
                                for="{{xAxisOption.label+'y'}}">{{xAxisOption.label}}</label>
                        </div>
                    </div>
                </div>
                <div class="col-6">
                    <label>Predictors</label>
                    <div class="form-check ms-2"
                        *ngFor="let xAxisOption of correlationPlotOptions.yAxisPredictorOptions">
                        <input class="form-check-input" type="checkbox" name="{{xAxisOption.label+'y'}}"
                            id="{{xAxisOption.label+'y'}}" [(ngModel)]="xAxisOption.selected"
                            (change)="savePlotOptions()">
                        <label class="form-check-label" for="{{xAxisOption.label+'y'}}">{{xAxisOption.label}}</label>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-6">
            <div class="row">
                <div class="col-12">
                    <label class="semibold">Plotted on X-Axis</label>
                </div>
                <div class="col-6">
                    <div *ngIf="correlationPlotOptions.asMeters">
                        <label>Meters</label>
                        <div class="form-check ms-2"
                            *ngFor="let xAxisOption of correlationPlotOptions.xAxisMeterOptions">
                            <input class="form-check-input" type="checkbox" name="{{xAxisOption.label}}"
                                id="{{xAxisOption.label}}" [(ngModel)]="xAxisOption.selected"
                                (change)="savePlotOptions()">
                            <label class="form-check-label" for="{{xAxisOption.label}}">{{xAxisOption.label}}</label>
                        </div>
                    </div>
                    <div *ngIf="!correlationPlotOptions.asMeters">
                        <label>Groups</label>
                        <div class="form-check ms-2"
                            *ngFor="let xAxisOption of correlationPlotOptions.xAxisGroupOptions">
                            <input class="form-check-input" type="checkbox" name="{{xAxisOption.label}}"
                                id="{{xAxisOption.label}}" [(ngModel)]="xAxisOption.selected"
                                (change)="savePlotOptions()">
                            <label class="form-check-label" for="{{xAxisOption.label}}">{{xAxisOption.label}}</label>
                        </div>
                    </div>
                </div>
                <div class="col-6">
                    <label>Predictors</label>
                    <div class="form-check ms-2"
                        *ngFor="let xAxisOption of correlationPlotOptions.xAxisPredictorOptions">
                        <input class="form-check-input" type="checkbox" name="{{xAxisOption.label}}"
                            id="{{xAxisOption.label}}" [(ngModel)]="xAxisOption.selected" (change)="savePlotOptions()">
                        <label class="form-check-label" for="{{xAxisOption.label}}">{{xAxisOption.label}}</label>
                    </div>
                </div>
            </div>
        </div>

    </div>
</form>

<div class="m-2 p-2 alert alert-info">
    Correlation plots will be generated for all x/y variable combinations that are selected.
</div>
<!-- <hr> -->