<p class="bold">General Information</p>
<form class="meterForm" [formGroup]="meterDataForm">

  <div class="row">
    <div class="col-6">
      <!--read date-->
      <label for="readDate">
        Meter Read Date
        <span class="required">*</span>
      </label>
      <div class="input-group mb-3">
        <input id="readDate" class="form-control" type="date" formControlName="readDate" (change)="checkDate()"
          [ngClass]="{'error': invalidDate}">
      </div>
      <span class="inputError" *ngIf="meterDataForm.get('readDate').hasError('required')">Meter read date is
        required</span>
      <span class="inputError" *ngIf="invalidDate">Meter already has data entered for selected date</span>

      <!--energy use-->
      <label for="totalEnergyUse">
        Total Energy Use
        <span class="required">*</span>
      </label>
      <div class="input-group mb-3">
        <input id="totalEnergyUse" class="form-control" type="number" formControlName="totalEnergyUse"
          [class.warning]="meterDataForm.controls.totalEnergyUse.value === 0" onfocus="this.select();" min="0"
          (input)="setTotalEmissions()">
        <span class="unit" [innerHTML]="energyUnit | settingsLabel"></span>
      </div>
      <span class="inputError" *ngIf="meterDataForm.get('totalEnergyUse').hasError('required')">Total energy use is
        required</span>
      <span class="inputError" *ngIf="meterDataForm.get('totalEnergyUse').hasError('min')">Can't be less than 0</span>
      <span class="inputWarning" *ngIf="meterDataForm.controls.totalEnergyUse.value === 0">Total energy use should be
        greater than 0</span>

      <!--calculated emissions-->
      <div class="row">
        <div class="col-6">
          <label for="totalMarketEmissions">
            Total Market Emissions
          </label>
          <div class="input-group mb-3">
            {{totalMarketEmissions | number:'1.0-0'}} kg CO<sub>2</sub>
          </div>
        </div>
        <div class="col-6">
          <label for="totalLocationEmissions">
            Total Location Emissions
          </label>
          <div class="input-group mb-3">
            {{totalLocationEmissions | number:'1.0-0'}} kg CO<sub>2</sub>
          </div>
        </div>
      </div>

    </div>

    <div class="col">
      <!--real demand-->
      <label for="totalRealDemand">
        Total Real Demand
      </label>
      <div class="input-group mb-3">
        <input id="totalRealDemand" class="form-control" type="number" formControlName="totalRealDemand"
          [class.warning]="meterDataForm.controls.totalRealDemand.value === 0" onfocus="this.select();" min="0">
        <span class="unit">$</span>
      </div>
      <span class="inputError" *ngIf="meterDataForm.get('totalRealDemand').hasError('required')">Total demand is
        required</span>
      <span class="inputError" *ngIf="meterDataForm.get('totalRealDemand').hasError('min')">Can't be less than 0</span>
      <span class="inputWarning" *ngIf="meterDataForm.controls.totalRealDemand.value === 0">Total demand should be
        greater
        than 0</span>

      <!--billed demand-->
      <label for="totalBilledDemand">
        Total Billed Demand
      </label>
      <div class="input-group mb-3">
        <input id="totalBilledDemand" class="form-control" type="number" formControlName="totalBilledDemand"
          [class.warning]="meterDataForm.controls.totalBilledDemand.value === 0" onfocus="this.select();" min="0">
        <span class="unit">$</span>
      </div>
      <span class="inputError" *ngIf="meterDataForm.get('totalBilledDemand').hasError('required')">Total demand is
        required</span>
      <span class="inputError" *ngIf="meterDataForm.get('totalBilledDemand').hasError('min')">Can't be less than
        0</span>
      <span class="inputWarning" *ngIf="meterDataForm.controls.totalBilledDemand.value === 0">Total demand should be
        greater
        than 0</span>

      <!--total cost-->
      <label for="totalCost">
        Total Cost
      </label>
      <div class="input-group mb-3">
        <input id="totalCost" class="form-control" type="number" formControlName="totalCost"
          [class.warning]="meterDataForm.controls.totalCost.value === 0" onfocus="this.select();" min="0">
        <span class="unit">$</span>
      </div>
      <span class="inputError" *ngIf="meterDataForm.get('totalCost').hasError('required')">Total cost is
        required</span>
      <span class="inputError" *ngIf="meterDataForm.get('totalCost').hasError('min')">Can't be less than 0</span>
      <span class="inputWarning" *ngIf="meterDataForm.controls.totalCost.value === 0">Total cost should be greater
        than 0</span>

    </div>
  </div>



  <hr>
  <p class="bold">Detailed Charges</p>
  <!--detailed charges-->
  <div class="row">
    <div class="col-6">
      <!--block 1-->
      <div>
        <label for="block1Consumption">Block 1 Consumption</label>
        <div class="input-group mb-3">
          <input id="block1Consumption" class="form-control" type="number" formControlName="block1Consumption"
            onfocus="this.select();" min="0">
          <span class="unit" [innerHTML]="energyUnit | settingsLabel"></span>
          <input id="block1ConsumptionCharge" class="form-control" type="number"
            formControlName="block1ConsumptionCharge" min="0">
          <span class="unit">$</span>
        </div>
      </div>
      <!--block 2-->
      <div>
        <label for="block2Consumption">Block 3 Consumption</label>
        <div class="input-group mb-3">
          <input id="block2Consumption" class="form-control" type="number" formControlName="block2Consumption"
            onfocus="this.select();" min="0">
          <span class="unit" [innerHTML]="energyUnit | settingsLabel"></span>
          <input id="block2ConsumptionCharge" class="form-control" type="number"
            formControlName="block2ConsumptionCharge" min="0">
          <span class="unit">$</span>
        </div>
      </div>

      <!--block 3-->
      <div>
        <label for="block3Consumption">Block 3 Consumption</label>
        <div class="input-group mb-3">
          <input id="block3Consumption" class="form-control" type="number" formControlName="block3Consumption"
            onfocus="this.select();" min="0">
          <span class="unit" [innerHTML]="energyUnit | settingsLabel"></span>
          <input id="block3ConsumptionCharge" class="form-control" type="number"
            formControlName="block3ConsumptionCharge" min="0">
          <span class="unit">$</span>
        </div>
      </div>

      <!--other consumption-->
      <div>
        <label for="otherConsumption">Other Consumption</label>
        <div class="input-group mb-3">
          <input id="otherConsumption" class="form-control" type="number" formControlName="otherConsumption"
            onfocus="this.select();" min="0">
          <span class="unit" [innerHTML]="energyUnit | settingsLabel"></span>
          <input id="otherConsumptionCharge" class="form-control" type="number" formControlName="otherConsumptionCharge"
            min="0">
          <span class="unit">$</span>
        </div>
      </div>
    </div>


    <div class="col-6">
      <!--on peak amount-->
      <div>
        <label for="onPeakAmount">On Peak Amount</label>
        <div class="input-group mb-3">
          <input id="onPeakAmount" class="form-control" type="number" formControlName="onPeakAmount"
            onfocus="this.select();" min="0">
          <span class="unit" [innerHTML]="energyUnit | settingsLabel"></span>
          <input id="onPeakCharge" class="form-control" type="number" formControlName="onPeakCharge" min="0">
          <span class="unit">$</span>
        </div>
      </div>

      <!--off peak amount-->
      <div>
        <label for="offPeakAmount">Off Peak Amount</label>
        <div class="input-group mb-3">
          <input id="offPeakAmount" class="form-control" type="number" formControlName="offPeakAmount"
            onfocus="this.select();" min="0">
          <span class="unit" [innerHTML]="energyUnit | settingsLabel"></span>
          <input id="offPeakCharge" class="form-control" type="number" formControlName="offPeakCharge" min="0">
          <span class="unit">$</span>
        </div>
      </div>

      <!--power factor-->
      <div>
        <label for="powerFactor">Power Factor</label>
        <div class="input-group mb-3">
          <input id="powerFactor" class="form-control" type="number" formControlName="powerFactor"
            onfocus="this.select();" min="0">
          <span class="unit"></span>
          <input id="powerFactorCharge" class="form-control" type="number" formControlName="powerFactorCharge" min="0">
          <span class="unit">$</span>
        </div>
      </div>
    </div>
  </div>
  <hr>

  <!--additional charges-->
  <p class="bold">Additional Charges</p>
  <div class="row">
    <div class="col-4">
      <!--non energy charge-->
      <label for="nonEnergyCharge">
        Non-energy Charge
      </label>
      <div class="input-group mb-3">
        <input id="nonEnergyCharge" class="form-control" type="number" formControlName="nonEnergyCharge"
          onfocus="this.select();" min="0">
        <span class="unit">$</span>
      </div>
    </div>

    <div class="col-4">
      <!--transmission and delivery charge-->
      <label for="transmissionAndDeliveryCharge">
        Transmission and Delivery Charge
      </label>
      <div class="input-group mb-3">
        <input id="transmissionAndDeliveryCharge" class="form-control" type="number"
          formControlName="transmissionAndDeliveryCharge" onfocus="this.select();" min="0">
        <span class="unit">$</span>
      </div>
    </div>

    <div class="col-4">
      <!--local sales tax-->
      <label for="localSalesTax">
        Local Sales Tax
      </label>
      <div class="input-group mb-3">
        <input id="localSalesTax" class="form-control" type="number" formControlName="localSalesTax"
          onfocus="this.select();" min="0">
        <span class="unit">$</span>
      </div>
    </div>

    <div class="col-4">
      <!--state sales tax-->
      <label for="stateSalesTax">
        State Sales Tax
      </label>
      <div class="input-group mb-3">
        <input id="stateSalesTax" class="form-control" type="number" formControlName="stateSalesTax"
          onfocus="this.select();" min="0">
        <span class="unit">$</span>
      </div>
    </div>

    <div class="col-4">
      <!--state sales tax-->
      <label for="latePayment">
        Late Payment
      </label>
      <div class="input-group mb-3">
        <input id="latePayment" class="form-control" type="number" formControlName="latePayment"
          onfocus="this.select();" min="0">
        <span class="unit">$</span>
      </div>
    </div>

    <div class="col-4">
      <!--other payment-->
      <label for="otherCharge">
        Other Charge
      </label>
      <div class="input-group mb-3">
        <input id="otherCharge" class="form-control" type="number" formControlName="otherCharge"
          onfocus="this.select();" min="0">
        <span class="unit">$</span>
      </div>
    </div>

  </div>







  <!--TODO: Update forms with new fields-->
  <!-- <div *ngIf="supplyDemandFilters.showSection">
    <p class="bold">Supply / Demand Charge</p>
    <div class="row">
      <!--supply demand column one--
      <div class="col" *ngIf="displaySupplyDemandColumnOne">
        <div *ngIf="supplyDemandFilters.peakAmount ||  supplyDemandFilters.peakCharge">
          <label for="peakAmount">On-Peak Demand</label>
          <div class="input-group mb-3">
            <input id="peakAmount" *ngIf="supplyDemandFilters.peakAmount" class="form-control" type="number"
              formControlName="peakAmount" onfocus="this.select();" min="0">
            <span *ngIf="supplyDemandFilters.peakAmount" class="unit" [innerHTML]="energyUnit | settingsLabel"></span>
            <input id="peakCharge" *ngIf="supplyDemandFilters.peakCharge" class="form-control" type="number"
              formControlName="peakCharge" min="0">
            <span *ngIf="supplyDemandFilters.peakCharge" class="unit">$</span>
          </div>
        </div>
        <div *ngIf="supplyDemandFilters.offPeakAmount || supplyDemandFilters.offPeakCharge">
          <label for="offPeakAmount">Off-Peak Demand</label>
          <div class="input-group mb-3">
            <input id="offPeakAmount" *ngIf="supplyDemandFilters.offPeakAmount" class="form-control" type="number"
              formControlName="offPeakAmount" onfocus="this.select();" min="0">
            <span *ngIf="supplyDemandFilters.offPeakAmount" class="unit"
              [innerHTML]="energyUnit | settingsLabel"></span>
            <input id="offPeakCharge" *ngIf="supplyDemandFilters.offPeakCharge" class="form-control" type="number"
              formControlName="offPeakCharge" min="0">
            <span *ngIf="supplyDemandFilters.offPeakCharge" class="unit">$</span>
          </div>
        </div>

        <div *ngIf="supplyDemandFilters.demandBlockAmount || supplyDemandFilters.demandBlockCharge">
          <label for="demandBlockAmount">Block Rates
            Demand</label>
          <div class="input-group mb-3">
            <input id="demandBlockAmount" *ngIf="supplyDemandFilters.demandBlockAmount" class="form-control"
              type="number" formControlName="demandBlockAmount" onfocus="this.select();" min="0">
            <span *ngIf="supplyDemandFilters.demandBlockAmount" class="unit"
              [innerHTML]="energyUnit | settingsLabel"></span>
            <input id="demandBlockCharge" *ngIf="supplyDemandFilters.demandBlockCharge" class="form-control"
              type="number" formControlName="demandBlockCharge" min="0">
            <span *ngIf="supplyDemandFilters.demandBlockCharge" class="unit">$</span>
          </div>
        </div>
      </div>
      <!--supply demand column two--
      <div class="col" *ngIf="displaySupplyDemandColumnTwo">
        <div *ngIf="supplyDemandFilters.supplyBlockAmount || supplyDemandFilters.supplyBlockCharge">
          <label for="supplyBlockAmount">Block Rates Supply</label>
          <div class="input-group mb-3">
            <input id="supplyBlockAmount" *ngIf="supplyDemandFilters.supplyBlockAmount" class="form-control"
              type="number" formControlName="supplyBlockAmount" onfocus="this.select();" min="0">
            <span *ngIf="supplyDemandFilters.supplyBlockAmount" class="unit"
              [innerHTML]="energyUnit | settingsLabel"></span>
            <input id="supplyBlockCharge" *ngIf="supplyDemandFilters.supplyBlockCharge" class="form-control"
              type="number" formControlName="supplyBlockCharge" min="0">
            <span *ngIf="supplyDemandFilters.supplyBlockCharge" class="unit">$</span>
          </div>
        </div>

        <div *ngIf="supplyDemandFilters.flatRateAmount || supplyDemandFilters.flatRateCharge">
          <label for="flatRateAmount">Flat Rates Supply</label>
          <div class="input-group mb-3">
            <input id="flatRateAmount" *ngIf="supplyDemandFilters.flatRateAmount" class="form-control" type="number"
              formControlName="flatRateAmount" onfocus="this.select();" min="0">
            <span *ngIf="supplyDemandFilters.flatRateAmount" class="unit"
              [innerHTML]="energyUnit | settingsLabel"></span>
            <input id="flatRateCharge" *ngIf="supplyDemandFilters.flatRateCharge" class="form-control" type="number"
              formControlName="flatRateCharge" min="0">
            <span *ngIf="supplyDemandFilters.flatRateCharge" class="unit">$</span>
          </div>
        </div>
      </div>
    </div>
    <hr>
  </div>

  <div *ngIf="taxAndOtherFilters.showSection">
    <p class="bold">Tax and other</p>
    <div class="row">
      <div class="col" *ngIf="displayTaxAndOthersColumnOne">
        <div *ngIf="taxAndOtherFilters.businessCharge">
          <label for="businessCharge">Local Business and Occupation
            Charge</label>
          <div class="input-group mb-3">
            <input id="businessCharge" class="form-control" type="number" formControlName="businessCharge"
              onfocus="this.select();" min="0">
            <span class="unit">$</span>
          </div>
        </div>

        <div *ngIf="taxAndOtherFilters.utilityTax">
          <label for="utilityTax">Local Utility Tax</label>
          <div class="input-group mb-3">
            <input id="utilityTax" class="form-control" type="number" formControlName="utilityTax"
              onfocus="this.select();" min="0">
            <span class="unit">$</span>
          </div>
        </div>
        <div *ngIf="taxAndOtherFilters.latePayment">
          <label for="latePayment">Late Payment Charge</label>
          <div class="input-group mb-3">
            <input id="latePayment" class="form-control" type="number" formControlName="latePayment"
              onfocus="this.select();" min="0">
            <span class="unit">$</span>
          </div>
        </div>

        <div *ngIf="taxAndOtherFilters.otherCharge">
          <label for="otherCharge">Other Charge</label>
          <div class="input-group mb-3">
            <input id="otherCharge" class="form-control" type="number" formControlName="otherCharge"
              onfocus="this.select();" min="0">
            <span class="unit">$</span>
          </div>
        </div>

        <div *ngIf="taxAndOtherFilters.basicCharge">
          <label for="basicCharge">Basic Charge/fixed fee</label>
          <div class="input-group mb-3">
            <input id="basicCharge" class="form-control" type="text" formControlName="basicCharge"
              onfocus="this.select();" min="0">
            <span class="unit">$</span>
          </div>
        </div>
      </div>

      <div class="col" *ngIf="displayTaxAndOthersColumnTwo">
        <div *ngIf="taxAndOtherFilters.generationTransmissionCharge">
          <label for="generationTransmissionCharge">Generation and
            Transmission Charge</label>
          <div class="input-group mb-3">
            <input id="generationTransmissionCharge" class="form-control" type="number"
              formControlName="generationTransmissionCharge" onfocus="this.select();" min="0">
            <span class="unit">$</span>
          </div>
        </div>

        <div *ngIf="taxAndOtherFilters.deliveryCharge">

          <label for="deliveryCharge">Delivery Charge</label>
          <div class="input-group mb-3">
            <input id="deliveryCharge" class="form-control" type="number" formControlName="deliveryCharge"
              onfocus="this.select();" min="0">
            <span class="unit">$</span>
          </div>
        </div>


        <div *ngIf="taxAndOtherFilters.transmissionCharge">
          <label for="transmissionCharge">Transmission Charge</label>
          <div class="input-group mb-3">
            <input id="transmissionCharge" class="form-control" type="number" formControlName="transmissionCharge"
              onfocus="this.select();" min="0">
            <span class="unit">$</span>
          </div>
        </div>
        <div *ngIf="taxAndOtherFilters.powerFactorCharge">
          <label for="powerFactorCharge">Power factor Charge</label>
          <div class="input-group mb-3">
            <input id="powerFactorCharge" class="form-control" type="number" formControlName="powerFactorCharge"
              onfocus="this.select();" min="0">
            <span class="unit">$</span>
          </div>
        </div>
      </div>
    </div>
    <hr> -->

  <!-- </div> -->
</form>