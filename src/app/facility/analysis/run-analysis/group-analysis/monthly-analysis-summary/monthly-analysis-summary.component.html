<div class="d-flex justify-content-between mb-2">
    <div class="p-0">
        <app-analysis-summary-table-filter [tableContext]="'monthGroup'" [group]="group" *ngIf="dataDisplay == 'table'"
            [analysisItem]="analysisItem">
        </app-analysis-summary-table-filter>
    </div>

    <!--Items Per Page-->
    <div class="d-flex">
        <app-table-items-dropdown *ngIf="dataDisplay == 'table'"></app-table-items-dropdown>
        <div class="btn-group ps-2">
            <button class="btn toggle-btn" [ngClass]="{'active': dataDisplay == 'table'}"
                (click)="setDataDisplay('table')">
                <span class="fa fa-chevron-right"></span>
                Table
                <span class="fa fa-chevron-left"></span>
            </button>
            <button class="btn toggle-btn" [ngClass]="{'active': dataDisplay == 'graph'}"
                (click)="setDataDisplay('graph')">
                <span class="fa fa-chevron-right"></span>
                Graph
                <span class="fa fa-chevron-left"></span>
            </button>
        </div>
    </div>
</div>

<div class="w-100" *ngIf="calculating == false">
    <app-monthly-analysis-summary-table *ngIf="dataDisplay == 'table'" [analysisItem]="analysisItem"
        [monthlyAnalysisSummaryData]="monthlyAnalysisSummary.monthlyAnalysisSummaryData" [itemsPerPage]="itemsPerPage"
        [facilityOrAccount]="facility" [predictorVariables]="monthlyAnalysisSummary.predictorVariables"
        [printBlock]="'all'" [group]="group">
    </app-monthly-analysis-summary-table>
    <app-monthly-analysis-summary-graph *ngIf="dataDisplay == 'graph'" [analysisItem]="analysisItem"
        [monthlyAnalysisSummaryData]="monthlyAnalysisSummary.monthlyAnalysisSummaryData" [facilityOrAccount]="facility">
    </app-monthly-analysis-summary-graph>
    <app-monthly-analysis-summary-savings-graph *ngIf="dataDisplay == 'graph'" [analysisItem]="analysisItem"
        [monthlyAnalysisSummaryData]="monthlyAnalysisSummary.monthlyAnalysisSummaryData" [facilityOrAccount]="facility"
        [group]="group">
    </app-monthly-analysis-summary-savings-graph>
</div>

<app-calculating-spinner *ngIf="calculating != false" [message]="'Calculating Monthly Results...'"
    [error]="calculating == 'error'"></app-calculating-spinner>