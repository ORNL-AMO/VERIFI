<div class="d-flex justify-content-between">
    <div>
        <button *ngIf="dataDisplay == 'table'" class="btn action-btn" [ngClass]="{'active' : showFilterDropdown}" (click)="toggleFilterMenu()">
            <i class="fa fa-chevron-down" *ngIf="showFilterDropdown"></i>
            <i class="fa fa-chevron-up" *ngIf="!showFilterDropdown"></i>
            Choose Columns
        </button>
    </div>

    <div class="btn-group">
        <button class="btn toggle-btn" [ngClass]="{'active': dataDisplay == 'table'}"
            (click)="setDataDisplay('table')">Table</button>
        <button class="btn toggle-btn" [ngClass]="{'active': dataDisplay == 'graph'}"
            (click)="setDataDisplay('graph')">Graph</button>
    </div>
</div>
<app-analysis-summary-table-filter *ngIf="showFilterDropdown" [tableContext]="'annualFacility'"></app-analysis-summary-table-filter>

<div class="w-100 x-scroll" *ngIf="!calculating">
    <app-annual-analysis-summary-table *ngIf="dataDisplay == 'table'" [annualAnalysisSummary]="annualAnalysisSummary"
        [analysisItem]="analysisItem" [accountOrFacility]="facility">
    </app-annual-analysis-summary-table>
    <app-annual-analysis-summary-graph *ngIf="dataDisplay == 'graph'" [annualAnalysisSummary]="annualAnalysisSummary"
        [analysisItem]="analysisItem">
    </app-annual-analysis-summary-graph>
</div>
<app-calculating-spinner *ngIf="calculating" [message]="'Calculating Annual Results...'"></app-calculating-spinner>